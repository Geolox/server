{"version":3,"sources":["../../../../server/components/queue/prioritizer.js"],"names":[],"mappings":";;AAAC,MAAM,CAAC,OAAO,GAAC;AACZ,YAAQ,EAAC,kBAAS,CAAC,EAAE,CAAC,EAAC;AACnB,YAAI,GAAG,GAAG,EAAE,CAAC;AACb,YAAI,CAAC,EAAC;AACF,iBAAI,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAC;AAChC,oBAAI,EAAE,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAC,IAAI,CAAC,CAAC;AAClD,oBAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AACtB,oBAAG,GAAG,IAAI,GAAG,CAAC,MAAM,EAAC;AACjB,uBAAG,CAAC,IAAI,CAAC,EAAC,GAAG,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAC,KAAK,EAAC,GAAG,CAAC,MAAM,EAAC,CAAC,CAAC;iBAC/C;aACJ;SACJ;AACD,eAAO,GAAG,CAAC;KACd;AACD,cAAU,EAAE,oBAAU,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAC;AACjC,YAAI,QAAQ,EAAE,OAAO,QAAQ,CAAC;AAC9B,YAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AAC5B,UAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrB,YAAG,EAAE,IAAE,EAAE,CAAC,MAAM,EAAC;AACb,mBAAO,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;SACpB;KACJ;AACD,UAAM,EAAC,gBAAS,CAAC,EAAC,CAAC,EAAC;AAChB,eAAO,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;KACxB;CACJ,CAAA","file":"prioritizer.js","sourcesContent":["ï»¿module.exports={\r\n    classify:function(t, c){\r\n        var ret = [];\r\n        if (c){\r\n            for(var i = c.length-1; i >= 0; i--){\r\n                var re = new RegExp(c[i].keywords.join(\"|\"),\"gi\");\r\n                var res = t.match(re);\r\n                if(res && res.length){\r\n                    ret.push({key:c[i].chord,value:res.length});\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    },\r\n    prioritize: function (t, c, defaultq){\r\n        if (defaultq) return defaultq;\r\n        var qs = this.classify(t,c);\r\n        qs.sort(this.sorter);\r\n        if(qs&&qs.length){\r\n            return qs[0].key;\r\n        }\r\n    },\r\n    sorter:function(a,b){\r\n        return a.val - b.val;\r\n    }\r\n}"]}